---
// src/components/Sidebar.astro

const currentPath = Astro.url.pathname;

const navGroups = [
	{
		title: "1. Core (@elekcsv/core)",
		items: [
			{ name: "1.1 Install & Overview", path: "/docs/core/install" },
			{ name: "1.2 Basic Usage", path: "/docs/core/basic" },
			{ name: "1.3 Advanced Usage", path: "/docs/core/advanced" },
			{ name: "1.4 Full API", path: "/docs/core/full" },
		],
	},
	{
		title: "2. React (@elekcsv/react)",
		items: [
			{ name: "2.1 Install & Overview", path: "/docs/react/install" },
			{ name: "2.2 Basic Usage", path: "/docs/react/basic" },
			{ name: "2.3 Advanced Usage", path: "/docs/react/advanced" },
			{ name: "2.4 Full API", path: "/docs/react/full" },
		],
	},
	{
		title: "3. Vue (@elekcsv/vue)",
		items: [
			{ name: "3.1 Install & Overview", path: "/docs/vue/install" },
			{ name: "3.2 Basic Usage", path: "/docs/vue/basic" },
			{ name: "3.3 Advanced Usage", path: "/docs/vue/advanced" },
			{ name: "3.4 Full API", path: "/docs/vue/full" },
		],
	},
	{
		title: "4. Svelte (@elekcsv/svelte)",
		items: [
			{ name: "4.1 Install & Overview", path: "/docs/svelte/install" },
			{ name: "4.2 Basic Usage", path: "/docs/svelte/basic" },
			{ name: "4.3 Advanced Usage", path: "/docs/svelte/advanced" },
			{ name: "4.4 Full API", path: "/docs/svelte/full" },
		],
	},
	{
		title: "5. Preact (@elekcsv/preact)",
		items: [
			{ name: "5.1 Install & Overview", path: "/docs/preact/install" },
			{ name: "5.2 Basic Usage", path: "/docs/preact/basic" },
			{ name: "5.3 Advanced Usage", path: "/docs/preact/advanced" },
			{ name: "5.4 Full API", path: "/docs/preact/full" },
		],
	},
	{
		title: "6. Solid (@elekcsv/solid)",
		items: [
			{ name: "6.1 Install & Overview", path: "/docs/solid/install" },
			{ name: "6.2 Basic Usage", path: "/docs/solid/basic" },
			{ name: "6.3 Advanced Usage", path: "/docs/solid/advanced" },
			{ name: "6.4 Full API", path: "/docs/solid/full" },
		],
	},
	{
		title: "7. Angular (@elekcsv/angular)",
		items: [
			{ name: "7.1 Install & Overview", path: "/docs/angular/install" },
			{ name: "7.2 Basic Usage", path: "/docs/angular/basic" },
			{ name: "7.3 Advanced Usage", path: "/docs/angular/advanced" },
			{ name: "7.4 Full API", path: "/docs/angular/full" },
		],
	},
];
---

<aside
  class="w-64 shrink-0 hidden md:block border-r border-neutral-200 h-[calc(100vh-64px)] overflow-y-auto sticky top-16 py-8 pr-6"
>
  <nav class="space-y-8">
    {
      navGroups.map((group) => (
        <div>
          <h4 class="font-semibold text-sm mb-3 tracking-tight text-neutral-900">
            {group.title}
          </h4>
          <ul class="space-y-2">
            {group.items.map((item) => {
              const isActive =
                currentPath === item.path || currentPath === item.path + '/'
              return (
                <li>
                  <a
                    href={item.path}
                    class={`block text-sm py-1 border-l-2 pl-3 transition-colors $&#123;
                    isActive 
                      ? "border-black text-black font-semibold no-underline!" 
                      : "border-transparent text-neutral-500 hover:text-black hover:border-neutral-300 text-decoration-none! no-underline!"
                  &#125;`}
                    style="text-decoration: none;"
                  >
                    {item.name}
                  </a>
                </li>
              )
            })}
          </ul>
        </div>
      ))
    }
  </nav>
</aside>
